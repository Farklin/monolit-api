# Система управления баннерами

## Обзор

Создана полноценная система управления баннерами и их категориями для React frontend приложения. Система позволяет:

- Загружать и управлять баннерами различных типов (мобильный, планшет, десктоп, все устройства)
- Создавать категории баннеров с привязкой к контекстам и категориям
- Настраивать приоритеты отображения баннеров
- Управлять правами доступа через систему разрешений

## Структура файлов

### API модули
- `src/api/banners.js` - API для работы с баннерами и категориями баннеров

### Компоненты баннеров
- `src/components/Banners/BannersTable.jsx` - Таблица со списком баннеров
- `src/components/Banners/BannersTable.css` - Стили таблицы баннеров
- `src/components/Banners/BannerModal.jsx` - Модальное окно создания/редактирования баннера
- `src/components/Banners/BannerModal.css` - Стили модального окна баннера

### Компоненты категорий баннеров
- `src/components/BannerCategories/BannerCategoriesTable.jsx` - Таблица категорий баннеров
- `src/components/BannerCategories/BannerCategoriesTable.css` - Стили таблицы категорий
- `src/components/BannerCategories/BannerCategoryModal.jsx` - Модальное окно категории
- `src/components/BannerCategories/BannerCategoryModal.css` - Стили модального окна категории

### Страницы
- `src/pages/BannersPage.jsx` - Страница управления баннерами
- `src/pages/BannersPage.css` - Стили страницы баннеров
- `src/pages/BannerCategoriesPage.jsx` - Страница управления категориями
- `src/pages/BannerCategoriesPage.css` - Стили страницы категорий

### Обновленные файлы
- `src/utils/PermissionEnum.js` - Добавлены разрешения для баннеров
- `src/App.jsx` - Добавлены маршруты для баннеров
- `src/components/Sidebar/Sidebar.jsx` - Добавлено меню баннеров

## Функциональность

### Управление баннерами

1. **Загрузка баннеров**
   - Поддержка форматов: JPEG, PNG, JPG, GIF, SVG
   - Максимальный размер файла: 2MB
   - Превью изображения перед загрузкой
   - Выбор типа баннера (default, mobile, tablet, desktop, all)

2. **Редактирование баннеров**
   - Изменение изображения
   - Изменение типа баннера
   - Настройка родительского баннера

3. **Фильтрация и просмотр**
   - Фильтрация по типу баннера
   - Отображение превью изображений
   - Информация о родительских баннерах

### Управление категориями баннеров

1. **Создание категорий**
   - Название категории
   - Привязка к контексту (context_id)
   - Привязка к баннеру (banner_id)
   - Тип категории (catalog, promo)
   - Привязка к категории (category_id)
   - Приоритет отображения

2. **Фильтрация категорий**
   - По ID контекста
   - По типу категории
   - По ID категории

## Разрешения

Добавлены следующие разрешения:

### Баннеры
- `CREATE_BANNER` - Создание баннеров
- `READ_BANNER` - Просмотр баннеров
- `UPDATE_BANNER` - Редактирование баннеров
- `DELETE_BANNER` - Удаление баннеров

### Категории баннеров
- `CREATE_BANNER_CATEGORY` - Создание категорий баннеров
- `READ_BANNER_CATEGORY` - Просмотр категорий баннеров
- `UPDATE_BANNER_CATEGORY` - Редактирование категорий баннеров
- `DELETE_BANNER_CATEGORY` - Удаление категорий баннеров

## API Endpoints

### Баннеры
- `GET /api/banners` - Получить список баннеров
- `GET /api/banners/{id}` - Получить баннер по ID
- `POST /api/banners/upload` - Загрузить баннеры
- `PUT /api/banners/{id}` - Обновить баннер
- `DELETE /api/banners/{id}` - Удалить баннер

### Категории баннеров
- `GET /api/banner-categories` - Получить список категорий
- `POST /api/banner-categories` - Создать категорию
- `PUT /api/banner-categories/{id}` - Обновить категорию
- `DELETE /api/banner-categories/{id}` - Удалить категорию

## Навигация

В боковом меню добавлен раздел "Баннеры" с подпунктами:
- Баннеры (`/banners`)
- Категории баннеров (`/banner-categories`)

## Особенности реализации

1. **Адаптивный дизайн** - Все компоненты адаптированы для мобильных устройств
2. **Валидация** - Проверка типов файлов, размеров и обязательных полей
3. **Обработка ошибок** - Показ уведомлений об ошибках через toast
4. **Права доступа** - Контроль доступа на основе разрешений пользователя
5. **Превью изображений** - Отображение превью загружаемых файлов
6. **Фильтрация** - Возможность фильтрации данных по различным критериям

## Использование

1. Перейдите в раздел "Баннеры" в боковом меню
2. Выберите "Баннеры" для управления баннерами или "Категории баннеров" для управления категориями
3. Используйте кнопки "Добавить" для создания новых записей
4. Используйте кнопки редактирования и удаления для управления существующими записями
5. Применяйте фильтры для поиска нужных данных

Система полностью интегрирована с существующей архитектурой приложения и готова к использованию.
