# üìã –í—ã–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ —à–∞–ø–∫–µ

## –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω **—Å–µ–ª–µ–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** –≤ —à–∞–ø–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä—è–¥–æ–º —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º –ø—Ä–æ–µ–∫—Ç–∞. –í—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `localStorage` –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —à–∞–ø–∫–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚ò∞  –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã                                   ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ     [üéØ –ü—Ä–æ–µ–∫—Ç ‚ñº]  [üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç ‚ñº]     üîî  üë§ –ê–¥–º–∏–Ω    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ø—Ä–æ–µ–∫—Ç–∞**
- –°–µ–ª–µ–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ **–∞–∫—Ç–∏–≤–µ–Ω —Ç–æ–ª—å–∫–æ** –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤—ã–±—Ä–∞–Ω
- –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **–∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞**
- –ü—Ä–∏ —Å–º–µ–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è**

### 2. **–¶–µ–ø–æ—á–∫–∞ –≤—ã–±–æ—Ä–∞**
```
–ü—Ä–æ–µ–∫—Ç ‚Üí –ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Üí –°–∫–ª–∞–¥—ã ‚Üí –û—Å—Ç–∞—Ç–∫–∏
```

### 3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–°–∫–ª–∞–¥—ã":**
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ —Å–∫–ª–∞–¥—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**
- –í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–µ "–ö–æ–Ω—Ç–µ–∫—Å—Ç" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–û—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º":**
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ —Å–∫–ª–∞–¥—ã –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**
- –í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫–ª–∞–¥—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è

---

## üì° HTTP –ó–∞–≥–æ–ª–æ–≤–∫–∏

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞—é—Ç:

```http
X-Project-Id: 5
X-Context-Id: 12
```

---

## üíæ localStorage

–°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è 4 –∫–ª—é—á–∞:

- `selectedProjectId` - ID –ø—Ä–æ–µ–∫—Ç–∞
- `selectedProjectName` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `selectedContextId` - ID –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- `selectedContextName` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

### –®–∞–≥ 2: –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç

–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞, —Å–µ–ª–µ–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ **–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –®–∞–≥ 3: –†–∞–±–æ—Ç–∞–π—Ç–µ —Å–æ —Å–∫–ª–∞–¥–∞–º–∏

–¢–µ–ø–µ—Ä—å –≤—Å–µ —Å–∫–ª–∞–¥—ã –∏ –æ—Å—Ç–∞—Ç–∫–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è** –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É!

---

## üé® –°–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–∞

### –ö–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç –ù–ï –≤—ã–±—Ä–∞–Ω:
```
[üìã –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç]  ‚Üê –ù–µ–∞–∫—Ç–∏–≤–µ–Ω
```

### –ö–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç –≤—ã–±—Ä–∞–Ω, –Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ù–ï –≤—ã–±—Ä–∞–Ω:
```
[üìã –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚ñº]  ‚Üê –ê–∫—Ç–∏–≤–µ–Ω
```

### –ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–±—Ä–∞–Ω:
```
[üìã –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚ñº]  ‚Üê –ê–∫—Ç–∏–≤–µ–Ω, –∑–µ–ª–µ–Ω—ã–π
```

---

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### ‚úÖ –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º

**–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–∫–ª–∞–¥–∞:**
- –ü–æ–ª–µ "–ö–æ–Ω—Ç–µ–∫—Å—Ç" –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–ª–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
- –ü–æ–¥—Å–∫–∞–∑–∫–∞: *"–í—ã–±—Ä–∞–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ —à–∞–ø–∫–∏: –ù–∞–∑–≤–∞–Ω–∏–µ"*

**–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Å—Ç–∞—Ç–∫–∞:**
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–∫–ª–∞–¥—ã –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ü–æ–¥—Å–∫–∞–∑–∫–∞: *"–ü–æ–∫–∞–∑–∞–Ω—ã —Å–∫–ª–∞–¥—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: –ù–∞–∑–≤–∞–Ω–∏–µ"*

### ‚úÖ –°–±—Ä–æ—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–í dropdown –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ **"‚úï –°–±—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç"**:
- –û—á–∏—â–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å–∫–ª–∞–¥—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç)
- –û—á–∏—â–∞–µ—Ç localStorage

### ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

- –ü—Ä–æ–µ–∫—Ç: **–ö—Ä–∞—Å–Ω—ã–π** (#dc2626)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: **–ó–µ–ª–µ–Ω—ã–π** (#10b981)

–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã!

---

## üîß –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

```jsx
import { useProject } from '../context/ProjectContext'

const MyComponent = () => {
  const { selectedProject, selectedContext, selectContext } = useProject()
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–±—Ä–∞–Ω –ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
  if (selectedContext) {
    console.log('–í—ã–±—Ä–∞–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç:', selectedContext.name)
  }
  
  // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–∫–ª–∞–¥–æ–≤
  const filteredWarehouses = selectedContext 
    ? warehouses.filter(w => w.context_id === selectedContext.id)
    : warehouses
}
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

- `selectedContext` - –æ–±—ä–µ–∫—Ç `{ id, name }` –∏–ª–∏ `null`
- `selectContext(context)` - –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
- `clearContext()` - –æ—á–∏—Å—Ç–∏—Ç—å –≤—ã–±–æ—Ä

---

## üõ†Ô∏è Backend (Laravel)

### Middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:

**–§–∞–π–ª:** `app/Http/Middleware/AddContextIdToRequest.php`

```php
public function handle(Request $request, Closure $next)
{
    $contextId = $request->header('X-Context-Id');
    
    if ($contextId) {
        $request->merge(['current_context_id' => $contextId]);
        $request->attributes->set('context_id', $contextId);
    }
    
    return $next($request);
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö:

```php
public function index(Request $request)
{
    $contextId = $request->header('X-Context-Id');
    
    if ($contextId) {
        return Warehouse::where('context_id', $contextId)->get();
    }
    
    return Warehouse::all();
}
```

---

## üìä –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–∞–Ω–Ω—ã—Ö

```
–ü—Ä–æ–µ–∫—Ç
  ‚îî‚îÄ –ö–æ–Ω—Ç–µ–∫—Å—Ç 1
      ‚îî‚îÄ –°–∫–ª–∞–¥ 1
          ‚îî‚îÄ –û—Å—Ç–∞—Ç–æ–∫ 1
          ‚îî‚îÄ –û—Å—Ç–∞—Ç–æ–∫ 2
      ‚îî‚îÄ –°–∫–ª–∞–¥ 2
  ‚îî‚îÄ –ö–æ–Ω—Ç–µ–∫—Å—Ç 2
      ‚îî‚îÄ –°–∫–ª–∞–¥ 3
```

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–∞ 1** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ **–°–∫–ª–∞–¥ 1 –∏ –°–∫–ª–∞–¥ 2**

---

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –Ω–µ –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ –∫–∞–∂–¥–æ–π —Ñ–æ—Ä–º–µ

‚úÖ **–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç—å** - –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–æ –≤ –∫–∞–∫–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ

‚úÖ **–ê–≤—Ç–æ—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - —Å–∫–ª–∞–¥—ã –∏ –æ—Å—Ç–∞—Ç–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è

‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –∫–ª–∏–∫–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ–ª—å–∑—è —Å–ª—É—á–∞–π–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–∫–ª–∞–¥ –Ω–µ –≤ —Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

‚úÖ **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –≤—ã–±–æ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏

---

–¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏ —Å—Ç–∞–ª–∞ –µ—â–µ —É–¥–æ–±–Ω–µ–µ! üöÄ

